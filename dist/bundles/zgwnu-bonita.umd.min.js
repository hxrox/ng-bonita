!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/http"),require("rxjs/add/operator/catch"),require("rxjs/add/operator/map"),require("rxjs/Observable"),require("rxjs/add/observable/throw"),require("@angular/router")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","rxjs/add/operator/catch","rxjs/add/operator/map","rxjs/Observable","rxjs/add/observable/throw","@angular/router"],e):e((t.ng=t.ng||{},t.ng["zgwnu-bonita"]={}),t.ng.core,t.ng.http,t.Rx.Observable,t.Rx.Observable,t.Rx,t.Rx.Observable,t.ng.router)}(this,function(t,e,n,r,o,s,i,a){"use strict";var c=function(){function t(){}return t.prototype.mapResponseArray=function(t){return t.json()||[]},t.prototype.mapResponse=function(t){return t.json()||{}},t}(),p=function(){return function(){}}(),u=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(p),l=function(){function t(){this.mapping=new c}return t.prototype.mapSuccessResponse=function(t){var e=new p;return e.status=t.status,t.statusText&&(e.statusText=t.statusText),e},t.prototype.handleResponseError=function(t){var e=new h;if(t instanceof n.Response){e.status=t.status,t.statusText&&(e.statusText=t.statusText);var r=t.json();e.exception=r.exception,e.message=r.message,e.explanations=r.explanations}else e.status=0,e.statusText=t.message?t.message:t.toString();return s.Observable.throw(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),f=function(){function t(t){this._hostUrl="http://localhost:8080",this.BASE_PATH="/bonita",this.API_PATH="/API",this.FILE_UPLOAD_PATH="/portal/fileUpload",this.PROCESS_UPLOAD_PATH="/portal/processUpload",this.ORGANIZATION_UPLOAD_PATH="/portal/organizationUpload",this.ACTORS_UPLOAD_PATH="/portal/actorsUpload",this.IMAGE_UPLOAD_PATH="/portal/imageUpload",this.FORMS_DOCUMENT_IMAGE_PATH="/portal/formsDocumentImage",t&&(this._hostUrl=t),this._baseUrl=this._hostUrl+this.BASE_PATH,this._apiUrl=this._baseUrl+this.API_PATH,this._fileUploadUrl=this._baseUrl+this.FILE_UPLOAD_PATH,this._processUploadUrl=this._baseUrl+this.PROCESS_UPLOAD_PATH,this._organizationUploadUrl=this._baseUrl+this.ORGANIZATION_UPLOAD_PATH,this._actorsUploadUrl=this._baseUrl+this.ACTORS_UPLOAD_PATH,this._imageUploadUrl=this._baseUrl+this.IMAGE_UPLOAD_PATH,this._formsDocumentImageUrl=this._baseUrl+this.FORMS_DOCUMENT_IMAGE_PATH}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this._baseUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"apiUrl",{get:function(){return this._apiUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileUploadUrl",{get:function(){return this._fileUploadUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"processUploadUrl",{get:function(){return this._processUploadUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"organizationUploadUrl",{get:function(){return this._organizationUploadUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actorsUploadUrl",{get:function(){return this._actorsUploadUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageUploadUrl",{get:function(){return this._imageUploadUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formsDocumentImageUrl",{get:function(){return this._formsDocumentImageUrl},enumerable:!0,configurable:!0}),t}(),d=function(){function t(t){this.bonitaUrls=t,this.businessDataModelPackage="com.zaakgerichtwerkennu.model",this.bonitaSessionTokenKey="X-Bonita-API-Token",this.defaultHeaders=new n.Headers({"Content-Type":"application/json"}),this.options=new n.RequestOptions({headers:this.defaultHeaders})}return Object.defineProperty(t.prototype,"session",{get:function(){return this._session},set:function(t){this._session=t,this.configSendOptions()},enumerable:!0,configurable:!0}),t.prototype.configSendOptions=function(){var t=new n.Headers({"Content-Type":"application/json"});this.sendOptions=new n.RequestOptions({headers:t}),this.appendSessionOptions(this.sendOptions)},t.prototype.appendSessionOptions=function(t){this._session.token&&(t.headers||(t.headers=this.defaultHeaders),t.headers.append(this.bonitaSessionTokenKey,this._session.token))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:f}]},t}(),y=function(){return function(t){this.name=t.name,this.type=t.type,this.storageId=t.storageId,this.storageId_string=t.storageId_string}}(),_=function(){return function(t){this.name=t.name,this.type=t.type,this.storageIds=t.storageIds,this.storageIds_string=t.storageIds_string}}(),g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.resourcePath="/bdm",r.resourceUrl=e.bonitaUrls.apiUrl+r.resourcePath,r}return g(r,t),r.prototype.getBusinessData=function(t,e,n){var r=this.getMapping(n);return this.http.get(this.buildGetRequestUrl(t,e),this.configService.options).map(r.mapResponse).catch(this.handleResponseError)},r.prototype.buildGetRequestUrl=function(t,e){return this.resourceUrl+"/businessData/"+this.configService.businessDataModelPackage+"."+t+"/"+e.toString()},r.prototype.queryBusinessData=function(t,e,n){var r=this.getMapping(n);return this.http.get(this.buildQueryRequestUrl(t,e),this.configService.options).map(r.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildQueryRequestUrl=function(t,e){return this.resourceUrl+"/businessData/"+this.configService.businessDataModelPackage+"."+t+"?"+e.getUrlEncondedParms()},r.prototype.getBusinessDataFromContext=function(t,e){var n=this.getMapping(e);return this.http.get(this.buildGetFromContextUrl(t),this.configService.options).map(n.mapResponse).catch(this.handleResponseError)},r.prototype.buildGetFromContextUrl=function(t){return this.configService.bonitaUrls.baseUrl+"/"+t.link},r.prototype.getMapping=function(t){return t||this.mapping},r.prototype.getSingleBusinessDataReference=function(t,e){return this.getBusinessDataReference(t,e).map(this.mapSingleBusinessDataReference).catch(this.handleResponseError)},r.prototype.mapSingleBusinessDataReference=function(t){return new y(t.json())},r.prototype.getMultipleBusinessDataReference=function(t,e){return this.getBusinessDataReference(t,e).map(this.mapSingleBusinessDataReference).catch(this.handleResponseError)},r.prototype.mapMultipleBusinessDataReference=function(t){return new _(t.json())},r.prototype.getBusinessDataReference=function(t,e){return this.http.get(this.resourceUrl+"/businessDataReference/"+t+"/"+e,this.configService.options)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),v=function(){return function(t){this.name=t.name,this.type=t.type,this.link=t.link,this.storageId=t.storageId,this.storageId_string=t.storageId_string}}(),b=function(){return function(t){t&&(t.persistenceId&&(this.persistenceId=t.persistenceId),t.persistenceId_string&&(this.persistenceId_string=t.persistenceId_string),t.persistenceVersion&&(this.persistenceVersion=t.persistenceVersion),t.persistenceVersion_string&&(this.persistenceVersion_string=t.persistenceVersion_string))}}(),U=function(){function t(t,e,n,r){this.queryName=t,this.page=e,this.count=n,this.parameterValues=r}return t.prototype.getUrlEncondedParms=function(){var t;if(t="&q="+this.queryName,t=t+"&p="+String(this.page),t=t+"&c="+String(this.count),void 0!=this.parameterValues)for(var e=0,n=this.parameterValues;e<n.length;e++){var r=n[e];t=t+"&f="+encodeURIComponent(r)}return t.replace(/%20/g,"+")},t}(),R=function(){return function(){}}(),O=function(){return function(){}}(),S=function(){function t(){}return t.prototype.getDateValue=function(t){return new Date(t.substr(0,10)+"T"+t.substr(11))},t}(),P=function(){return function(t){var e=new S;this.id=t.id,this.type=t.type,this.name=t.name,this.displayName=t.displayName,this.description=t.description,this.displayDescription=t.displayDescription,this.state=t.state,this.reached_state_date=e.getDateValue(t.reached_state_date),this.last_update_date=e.getDateValue(t.last_update_date),this.dueDate=e.getDateValue(t.dueDate),this.priority=t.priority,this.processId=t.processId,this.parentCaseId=t.parentCaseId,this.rootCaseId=t.rootCaseId,this.rootContainerId=t.rootContainerId,this.executedBy=t.executedBy,this.executedBySubstitute=t.executedBySubstitute,this.actorId instanceof O?(this.actorId.id=t.actorId.id,this.actorId.process_id=t.actorId.process_id,this.actorId.description=t.actorId.description,this.actorId.name=t.actorId.name,this.actorId.displayName=t.actorId.displayName):this.actorId=t.actorId,this.assigned_id=t.assigned_id,""!=t.assigned_date&&(this.assigned_date=e.getDateValue(t.assigned_date))}}(),w=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(t){function e(e){return t.call(this,e)||this}return w(e,t),e}(P),A=function(){function t(){}return t.prototype.mapResponse=function(t){return new I(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new I(o))}return e},t}(),T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.USER_TASK_RESOURCE_PATH="/bpm/userTask",r.userTaskResourceUrl=e.bonitaUrls.apiUrl+r.USER_TASK_RESOURCE_PATH,r}return T(r,t),r.prototype.getUserTask=function(t){var e=new A;return this.http.get(this.userTaskResourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.prototype.getUserTaskContext=function(t){return this.http.get(this.userTaskResourceUrl+"/"+t+"/context",this.configService.options).map(this.mapping.mapResponse).catch(this.handleResponseError)},r.prototype.assignUserTask=function(t,e){var n=new R;n.assigned_id=e||this.configService.session.user_id;var r=this.userTaskResourceUrl+"/"+t;return this.http.put(r,n,this.configService.sendOptions).map(this.mapSuccessResponse).catch(this.handleResponseError)},r.prototype.executeUserTask=function(t,e){var n=this.userTaskResourceUrl+"/"+t+"/execution";return this.http.post(n,e,this.configService.sendOptions).map(this.mapSuccessResponse).catch(this.handleResponseError)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),D=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e){return t.call(this,e)||this}return D(e,t),e}(P),x=function(){function t(){}return t.prototype.mapResponse=function(t){return new E(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new E(o))}return e},t}(),C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.HUMAN_TASK_RESOURCE_PATH="/bpm/humanTask",r.humanTaskResourceUrl=e.bonitaUrls.apiUrl+r.HUMAN_TASK_RESOURCE_PATH,r}return C(r,t),r.prototype.searchHumanTasks=function(t){var e=new x;return this.http.get(this.buildHumanTaskSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildHumanTaskSearchRequest=function(t){return this.humanTaskResourceUrl+"?"+t.getUrlEncondedParms()},r.prototype.getHumanTask=function(t){var e=new x;return this.http.get(this.humanTaskResourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),B=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(e){return t.call(this,e)||this}return B(e,t),e}(P),k=function(){function t(){}return t.prototype.mapResponse=function(t){return new V(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new V(o))}return e},t}(),N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.TASK_RESOURCE_PATH="/bpm/task",r.taskResourceUrl=e.bonitaUrls.apiUrl+r.TASK_RESOURCE_PATH,r}return N(r,t),r.prototype.searchTasks=function(t){var e=new k;return this.http.get(this.buildTaskSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildTaskSearchRequest=function(t){return this.taskResourceUrl+"?"+t.getUrlEncondedParms()},r.prototype.getTask=function(t){var e=new k;return this.http.get(this.taskResourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),L=function(){function t(){}return t.prototype.mapResponse=function(t){return new P(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new P(o))}return e},t}(),M=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.ACTIVITY_RESOURCE_PATH="/bpm/activity",r.activityResourceUrl=e.bonitaUrls.apiUrl+r.ACTIVITY_RESOURCE_PATH,r}return M(r,t),r.prototype.searchActivities=function(t){var e=new L;return this.http.get(this.buildActivitySearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildActivitySearchRequest=function(t){return this.activityResourceUrl+"?"+t.getUrlEncondedParms()},r.prototype.getActivity=function(t){var e=new L;return this.http.get(this.activityResourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),F=function(){return function(t){this.description=t.description,this.name=t.name,this.value=t.value,this.case_id=t.case_id,this.type=t.type}}(),G=function(){function t(){}return t.prototype.mapResponse=function(t){return new F(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new F(o))}return e},t}(),z=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.caseVariableResourcePath="/bpm/caseVariable",r.caseVariableResourceUrl=e.bonitaUrls.apiUrl+r.caseVariableResourcePath,r}return z(r,t),r.prototype.getCaseVariable=function(t,e){var n=new G;return this.http.get(this.caseVariableResourceUrl+"/"+t+"/"+e,this.configService.options).map(n.mapResponse).catch(this.handleResponseError)},r.prototype.searchCaseVariables=function(t){var e=new G;return this.http.get(this.buildSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildSearchRequest=function(t){return this.caseVariableResourceUrl+"?"+t.getUrlEncondedParms()},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),Q=function(){return function(t){var e=new S;this.id=t.id,this.creationDate=e.getDateValue(t.creationDate),this.author=t.author,this.index=t.index,this.contentMimetype=t.contentMimetype,this.caseId=t.caseId,this.contentStorageId=t.contentStorageId,this.isInternal=t.isInternal,this.description=t.description,this.name=t.name,this.fileName=t.fileName,this.submittedBy=t.submittedBy,this.url=t.url,this.version=t.version}}(),X=function(){function t(){}return t.prototype.mapResponse=function(t){return new Q(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new Q(o))}return e},t}(),Y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.resourcePath="/bpm/caseDocument",r.resourceUrl=e.bonitaUrls.apiUrl+r.resourcePath,r}return Y(r,t),r.prototype.createDocument=function(t){var e=new X;return this.http.post(this.resourceUrl,t,this.configService.sendOptions).map(e.mapResponse).catch(this.handleResponseError)},r.prototype.updateDocument=function(t,e){var n=new X;return this.http.put(this.resourceUrl+"/"+t,e,this.configService.sendOptions).map(n.mapResponse).catch(this.handleResponseError)},r.prototype.getDocument=function(t){var e=new X;return this.http.get(this.resourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.prototype.searchDocuments=function(t){var e=new X;return this.http.get(this.buildSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildSearchRequest=function(t){return this.resourceUrl+"?"+t.getUrlEncondedParms()},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),W=function(){return function(t){t&&(this.caseId=t.caseId,this.name=t.name,t.file&&(this.file=t.file),t.url&&(this.file=t.url),t.fileName&&(this.file=t.fileName),t.contentMimetype&&(this.file=t.contentMimetype),t.description&&(this.file=t.description))}}(),$=function(){return function(){}}(),tt=function(){return function(t){var e=new S;this.id=t.id,this.end_date=e.getDateValue(t.end_date),this.failedFlowNodes=t.failedFlowNodes,this.start=e.getDateValue(t.start),this.activeFlowNodes=t.activeFlowNodes,this.state=t.state,this.rootCaseId=t.rootCaseId,this.started_by=t.started_by,this.processDefinitionId=t.processDefinitionId,this.last_update_date=e.getDateValue(t.last_update_date),t.searchIndex1Label&&(this.searchIndex1Label=t.searchIndex1Label),t.searchIndex2Label&&(this.searchIndex2Label=t.searchIndex2Label),t.searchIndex3Label&&(this.searchIndex3Label=t.searchIndex2Label),t.searchIndex4Label&&(this.searchIndex4Label=t.searchIndex3Label),t.searchIndex5Label&&(this.searchIndex5Label=t.searchIndex4Label),t.searchIndex1Value&&(this.searchIndex1Value=t.searchIndex1Value),t.searchIndex2Value&&(this.searchIndex2Value=t.searchIndex2Value),t.searchIndex3Value&&(this.searchIndex3Value=t.searchIndex3Value),t.searchIndex4Value&&(this.searchIndex4Value=t.searchIndex4Value),t.searchIndex5Value&&(this.searchIndex5Value=t.searchIndex5Value)}}(),et=function(){function t(){}return t.prototype.mapResponse=function(t){return new tt(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new tt(o))}return e},t}(),nt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.resourcePath="/bpm/case",r.resourceUrl=e.bonitaUrls.apiUrl+r.resourcePath,r}return nt(r,t),r.prototype.searchCases=function(t){var e=new et;return this.http.get(this.buildSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildSearchRequest=function(t){return this.resourceUrl+"?"+t.getUrlEncondedParms()},r.prototype.getCase=function(t){var e=new et;return this.http.get(this.resourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.prototype.getCaseContext=function(t){return this.http.get(this.resourceUrl+"/"+t+"/context",this.configService.options).map(this.mapping.mapResponse).catch(this.handleResponseError)},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),ot=function(){return function(t){var e=new S;t&&(this.id=t.id,this.icon=t.icon,this.displayDescription=t.displayDescription,this.deploymentDate=e.getDateValue(t.deploymentDate),this.description=t.description,this.activationState=t.activationState,this.name=t.name,this.deployedBy=t.deployedBy,this.displayName=t.displayName,this.actorinitiatorid=t.actorinitiatorid,this.last_update_date=e.getDateValue(t.last_update_date),this.configurationState=t.configurationState,this.version=t.version)}}(),st=function(){function t(){}return t.prototype.mapResponse=function(t){return console.log(t),new ot(t.json())},t.prototype.mapResponseArray=function(t){for(var e=[],n=0,r=t.json();n<r.length;n++){var o=r[n];e.push(new ot(o))}return e},t}(),it=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return it(e,t),e}(p),ct=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ct(e,t),e}(p),ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ut(e,t),e}(p),lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r.RESOURCE_PATH="/bpm/process",r.resourceUrl=e.bonitaUrls.apiUrl+r.RESOURCE_PATH,r}return lt(r,t),r.prototype.searchProcessDefinitions=function(t){var e=new st;return this.http.get(this.buildSearchRequest(t),this.configService.options).map(e.mapResponseArray).catch(this.handleResponseError)},r.prototype.buildSearchRequest=function(t){return this.resourceUrl+"?"+t.getUrlEncondedParms()},r.prototype.getProcessDefinition=function(t){var e=new st;return this.http.get(this.resourceUrl+"/"+t,this.configService.options).map(e.mapResponse).catch(this.handleResponseError)},r.prototype.createCase=function(t,e){var n=this.resourceUrl+"/"+t+"/instantiation";return this.http.post(n,e,this.configService.sendOptions).map(this.mapCreateCaseSuccessResponse).catch(this.handleResponseError)},r.prototype.mapCreateCaseSuccessResponse=function(t){var e=new at;return e.status=t.status,t.statusText&&(e.statusText=t.statusText),e.caseId=t.json().caseId,e},r.prototype.deployProcessDefinition=function(t){var e={fileupload:t.tempPath};return this.http.post(this.resourceUrl,e,this.configService.sendOptions).map(this.mapDeployProcessDefinitionSuccessResponse).catch(this.handleResponseError)},r.prototype.mapDeployProcessDefinitionSuccessResponse=function(t){var e=new S,n=new pt;n.status=t.status,t.statusText&&(n.statusText=t.statusText);var r=t.json();return n.id=r.id,n.deploymentDate=e.getDateValue(r.deploymentDate),n.description=r.description,n.activationState=r.activationState,n.name=r.name,n.displayName=r.displayName,n.actorinitiatorid=r.actorinitiatorid,n.last_update_date=e.getDateValue(r.last_update_date),n.configurationState=r.configurationState,n.version=r.version,n},r.prototype.updateProcessDefinition=function(t,e){return this.http.put(this.resourceUrl+"/"+t,e,this.configService.sendOptions).map(this.mapUpdateProcessDefinitionUpdateSuccessResponse).catch(this.handleResponseError)},r.prototype.mapUpdateProcessDefinitionUpdateSuccessResponse=function(t){var e=new ht;return e.status=t.status,t.statusText&&(e.statusText=t.statusText),e},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),dt=function(){return function(){}}(),yt=function(){return function(t,e){if(this.user_id=t.user_id,this.user_name=t.user_name,this.session_id=t.session_id,this.conf=t.conf,this.is_technical_user="true"==t.is_technical_user,this.version=t.version,t.tenant&&(this.tenant=t.tenant),e){var n=e.toJSON();console.log(n),this.token=n["X-Bonita-API-Token"][0]}}}(),_t=function(){function t(){}return t.prototype.mapResponse=function(t){var e,n=t.json();return null!=t.headers&&(e=t.headers),new yt(n,e)},t.prototype.mapResponseArray=function(t){return this.mapResponse(t)},t}(),gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(t){function r(e,n,r){var o=t.call(this)||this;return o.configService=e,o.http=n,o.router=r,o.LOGIN_SERVICE_PATH="/loginservice",o.CURRENT_SESSION_RESOURCE_PATH="/system/session/unusedid",o.getCurrentSession().subscribe(function(t){return e.session=t}),o}return gt(r,t),r.prototype.executeLogin=function(t){var e="username="+t.username+"&password="+t.password+"&redirect=false",r=new n.Headers({"Content-Type":"application/x-www-form-urlencoded"}),o=new n.RequestOptions({headers:r}),s=this.configService.bonitaUrls.baseUrl+this.LOGIN_SERVICE_PATH;return this.http.post(s,e,o).map(this.mapSuccessResponse).catch(this.handleResponseError)},r.prototype.getCurrentSession=function(){var t=new _t;return this.http.get(this.configService.bonitaUrls.apiUrl+this.CURRENT_SESSION_RESOURCE_PATH,this.configService.options).map(t.mapResponse).catch(this.handleResponseError)},r.prototype.login=function(t){var e=this;this.executeLogin(t).subscribe(function(n){e.successResponse=n,e.getCurrentSession().subscribe(function(n){t.username==n.user_name&&(e.configService.session=n,t.navigateTo&&e.router.navigate([t.navigateTo]))},function(t){return e.errorResponse=t})},function(t){return e.errorResponse=t})},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http},{type:a.Router}]},r}(l),vt=function(){return function(t,e,n,r){this.username=t,this.password=e,this.navigateTo=n,this.secret=r}}(),bt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bt(e,t),e}(p),Rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(t){function r(e,n){var r=t.call(this)||this;return r.configService=e,r.http=n,r}return Rt(r,t),r.prototype.uploadFile=function(t,e){return this.servletUploadFile(this.configService.bonitaUrls.fileUploadUrl,t,e)},r.prototype.uploadProcess=function(t,e){return this.servletUploadFile(this.configService.bonitaUrls.processUploadUrl,t,e)},r.prototype.uploadOrganization=function(t,e){return this.servletUploadFile(this.configService.bonitaUrls.organizationUploadUrl,t,e)},r.prototype.uploadActors=function(t,e){return this.servletUploadFile(this.configService.bonitaUrls.actorsUploadUrl,t,e)},r.prototype.uploadImage=function(t,e){return this.servletUploadFile(this.configService.bonitaUrls.imageUploadUrl,t,e)},r.prototype.servletUploadFile=function(t,e,r){var o=new FormData;o.append(r,e,e.name);var s=new n.Headers,i=new n.RequestOptions({headers:s});return this.configService.appendSessionOptions(i),this.http.post(t,o,i).map(this.mapFileUploadResponse).catch(this.handleResponseError)},r.prototype.mapFileUploadResponse=function(t){var e=new Ut;return e.status=t.status,e.statusText=t.statusText,e.tempPath=t._body,e},r.decorators=[{type:e.Injectable}],r.ctorParameters=function(){return[{type:d},{type:n.Http}]},r}(l),St=function(){return function(t,e){t&&(this.filename=t.name,this.contentType=t.type),e&&(this.tempPath=e.tempPath)}}(),Pt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[d,mt,ft,rt,J,K,Z,Z,q,H,j,m,Ot]}]}],t.ctorParameters=function(){return[]},t}();t.ZgwnuBonitaModule=Pt,t.ZgwnuBonitaSession=yt,t.ZgwnuBonitaCredentials=vt,t.ZgwnuBonitaCreateCaseSuccessResponse=at,t.ZgwnuBonitaDeployProcessDefinitionSuccessResponse=pt,t.ZgwnuBonitaProcessDefinition=ot,t.ZgwnuBonitaProcessUpdateInput=dt,t.ZgwnuBonitaProcessUpdateSuccessResponse=ht,t.ZgwnuBonitaCase=tt,t.ZgwnuBonitaDocument=Q,t.ZgwnuBonitaDocumentCreateInput=W,t.ZgwnuBonitaDocumentUpdateInput=$,t.ZgwnuBonitaCaseVariable=F,t.ZgwnuBonitaActivity=P,t.ZgwnuBonitaActivityDeployActor=O,t.ZgwnuBonitaTask=V,t.ZgwnuBonitaHumanTask=E,t.ZgwnuBonitaUserTask=I,t.ZgwnuBonitaBusinessDataContext=v,t.ZgwnuBonitaBusinessDataObject=b,t.ZgwnuBonitaBusinessDataQueryParms=U,t.ZgwnuBonitaContractInputFile=St,t.ZgwnuBonitaFileUploadResponse=Ut,Object.defineProperty(t,"__esModule",{value:!0})});